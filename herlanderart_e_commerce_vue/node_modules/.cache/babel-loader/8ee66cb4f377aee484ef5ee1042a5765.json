{"remainingRequest":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\src\\views\\Checkout.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\src\\views\\Checkout.vue","mtime":1644750471930},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\babel.config.js","mtime":1644074725311},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3NocDM2L0RvY3VtZW50cy9Qcm9ncmFtbWluZy9kamFuZ28tcHJvamVjdHMvZS1jb21tZXJjZS9oZXJsYW5kZXJhcnRfZV9jb21tZXJjZV92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoZWNrb3V0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FydDogewogICAgICAgIGl0ZW1zOiBbXQogICAgICB9LAogICAgICBzdHJpcGU6IHt9LAogICAgICBjYXJkOiB7fSwKICAgICAgZmlyc3RfbmFtZTogJycsCiAgICAgIGxhc3RfbmFtZTogJycsCiAgICAgIGVtYWlsOiAnJywKICAgICAgcGhvbmU6ICcnLAogICAgICBhZGRyZXNzOiAnJywKICAgICAgemlwY29kZTogJycsCiAgICAgIHBsYWNlOiAnJywKICAgICAgZXJyb3JzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC50aXRsZSA9ICdDaGVja291dCB8IEhlcmxhbmRlckFydCc7CiAgICB0aGlzLmNhcnQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0OwoKICAgIGlmICh0aGlzLmNhcnRUb3RhbExlbmd0aCA+IDApIHsKICAgICAgdGhpcy5zdHJpcGUgPSBTdHJpcGUoJ3BrX3Rlc3RfNTFLUzE2Y0Y3ZlZSd25VTjNwbWZBUFpNUnRSQWxXb1NmZjNDcGJ2bWxhSlpqcjdSRVpPNDRqWkhkZDV1djU3eEo2WTZwSUtmODdzYjVwaERabGVpbGxObWcwMDBGTGJqb2ZVJyk7CiAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuc3RyaXBlLmVsZW1lbnRzKCk7CiAgICAgIHRoaXMuY2FyZCA9IGVsZW1lbnRzLmNyZWF0ZSgnY2FyZCcsIHsKICAgICAgICBoaWRlUG9zdGFsQ29kZTogdHJ1ZQogICAgICB9KTsKICAgICAgdGhpcy5jYXJkLm1vdW50KCcjY2FyZC1lbGVtZW50Jyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRJdGVtVG90YWw6IGZ1bmN0aW9uIGdldEl0ZW1Ub3RhbChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtLnF1YW50aXR5ICogaXRlbS5wcm9kdWN0LnByaWNlOwogICAgfSwKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKHRoaXMuZmlyc3RfbmFtZSA9PT0gJycpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdUaGUgZmlyc3QgbmFtZSBmaWVsZCBpcyBtaXNzaW5nIScpOwogICAgICB9CgogICAgICBpZiAodGhpcy5sYXN0X25hbWUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIGxhc3QgbmFtZSBmaWVsZCBpcyBtaXNzaW5nIScpOwogICAgICB9CgogICAgICBpZiAodGhpcy5lbWFpbCA9PT0gJycpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdUaGUgZW1haWwgZmllbGQgaXMgbWlzc2luZyEnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGhvbmUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHBob25lIGZpZWxkIGlzIG1pc3NpbmchJyk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmFkZHJlc3MgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIGFkZHJlc3MgZmllbGQgaXMgbWlzc2luZyEnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuemlwY29kZSA9PT0gJycpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdUaGUgemlwIGNvZGUgZmllbGQgaXMgbWlzc2luZyEnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGxhY2UgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHBsYWNlIGZpZWxkIGlzIG1pc3NpbmchJyk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCB0cnVlKTsKICAgICAgICB0aGlzLnN0cmlwZS5jcmVhdGVUb2tlbih0aGlzLmNhcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgaWYgKHJlc3VsdC5lcnJvcikgewogICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgnU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCBTdHJpcGUuIFBsZWFzZSB0cnkgYWdhaW4nKTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLnN0cmlwZVRva2VuSGFuZGxlcihyZXN1bHQudG9rZW4pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc3RyaXBlVG9rZW5IYW5kbGVyOiBmdW5jdGlvbiBzdHJpcGVUb2tlbkhhbmRsZXIodG9rZW4pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBpdGVtcywgaSwgaXRlbSwgb2JqLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGl0ZW1zID0gW107CgogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMi5jYXJ0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0gPSBfdGhpczIuY2FydC5pdGVtc1tpXTsKICAgICAgICAgICAgICAgICAgb2JqID0gewogICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGl0ZW0ucHJvZHVjdC5pZCwKICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSwKICAgICAgICAgICAgICAgICAgICBwcmljZTogaXRlbS5wcm9kdWN0LnByaWNlICogaXRlbS5xdWFudGl0eQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogX3RoaXMyLmZpcnN0X25hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogX3RoaXMyLmxhc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzMi5lbWFpbCwKICAgICAgICAgICAgICAgICAgYWRkcmVzczogX3RoaXMyLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAgIHppcGNvZGU6IF90aGlzMi56aXBjb2RlLAogICAgICAgICAgICAgICAgICBwbGFjZTogX3RoaXMyLnBsYWNlLAogICAgICAgICAgICAgICAgICBwaG9uZTogX3RoaXMyLnBob25lLAogICAgICAgICAgICAgICAgICBpdGVtczogaXRlbXMsCiAgICAgICAgICAgICAgICAgIHN0cmlwZV90b2tlbjogdG9rZW4uaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvYXBpL3YxL2NoZWNrb3V0LycsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCdjbGVhckNhcnQnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9jYXJ0L3N1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluJyk7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhcnRUb3RhbFByaWNlOiBmdW5jdGlvbiBjYXJ0VG90YWxQcmljZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2FydC5pdGVtcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgY3VyVmFsKSB7CiAgICAgICAgcmV0dXJuIGFjYyArPSBjdXJWYWwucHJvZHVjdC5wcmljZSAqIGN1clZhbC5xdWFudGl0eTsKICAgICAgfSwgMCk7CiAgICB9LAogICAgY2FydFRvdGFsTGVuZ3RoOiBmdW5jdGlvbiBjYXJ0VG90YWxMZW5ndGgoKSB7CiAgICAgIHJldHVybiB0aGlzLmNhcnQuaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1clZhbCkgewogICAgICAgIHJldHVybiBhY2MgKz0gY3VyVmFsLnF1YW50aXR5OwogICAgICB9LCAwKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["axios","name","data","cart","items","stripe","card","first_name","last_name","email","phone","address","zipcode","place","errors","mounted","document","title","$store","state","cartTotalLength","Stripe","elements","create","hidePostalCode","mount","methods","getItemTotal","item","quantity","product","price","submitForm","push","length","commit","createToken","then","result","error","console","log","message","stripeTokenHandler","token","i","obj","id","stripe_token","post","response","$router","catch","computed","cartTotalPrice","reduce","acc","curVal"],"sources":["C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\src\\views\\Checkout.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-checkout\">\r\n    <div class=\"columns is-multiline\">\r\n      <!-- title start -->\r\n      <div class=\"column is-12\">\r\n        <h1 class=\"title\">Checkout</h1>\r\n      </div>\r\n      <!-- title end -->\r\n\r\n      <!-- cart details start -->\r\n      <div class=\"column is-12 box\">\r\n        <table class=\"table is-fullwidth\">\r\n          <thead>\r\n            <tr>\r\n              <th>Product</th>\r\n              <th>Price</th>\r\n              <th>Quantity</th>\r\n              <th>Total</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            <tr v-for=\"item in cart.items\" v-bind:key=\"item.product.id\">\r\n              <td>{{ item.product.name }}</td>\r\n              <td>${{ item.product.price }}</td>\r\n              <td>{{ item.quantity }}</td>\r\n              <td>${{ getItemTotal(item).toFixed(2) }}</td>\r\n            </tr>\r\n          </tbody>\r\n\r\n          <tfoot>\r\n            <tr>\r\n              <td colspan=\"2\">Total</td>\r\n              <td>{{ cartTotalLength }}</td>\r\n              <td>${{ cartTotalPrice.toFixed(2) }}</td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n      <!-- cart detail end -->\r\n\r\n      <!-- shipping detail start -->\r\n      <div class=\"column is-12 box\">\r\n        <h2 class=\"subtitle\">Shipping details</h2>\r\n\r\n        <p class=\"has-text-grey mb-4\">* All fields are required</p>\r\n\r\n        <!-- left and right fields start -->\r\n        <div class=\"columns is-multiline\">\r\n          <div class=\"column is-6\">\r\n            <div class=\"field\">\r\n              <label>First name*</label>\r\n              <div class=\"control\">\r\n                <input type=\"text\" class=\"input\" v-model=\"first_name\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"field\">\r\n              <label>Last name*</label>\r\n              <div class=\"control\">\r\n                <input type=\"text\" class=\"input\" v-model=\"last_name\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"field\">\r\n              <label>E-mail*</label>\r\n              <div class=\"control\">\r\n                <input type=\"email\" class=\"input\" v-model=\"email\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"field\">\r\n              <label>Phone*</label>\r\n              <div class=\"control\">\r\n                <input type=\"text\" class=\"input\" v-model=\"phone\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column is-6\">\r\n            <div class=\"field\">\r\n              <label>Address*</label>\r\n              <div class=\"control\">\r\n                <input type=\"text\" class=\"input\" v-model=\"address\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"field\">\r\n              <label>Zip code*</label>\r\n              <div class=\"control\">\r\n                <input type=\"text\" class=\"input\" v-model=\"zipcode\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"field\">\r\n              <label>Place*</label>\r\n              <div class=\"control\">\r\n                <input type=\"text\" class=\"input\" v-model=\"place\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- left and right fields end -->\r\n\r\n        <div class=\"notification is-danger mt-4\" v-if=\"errors.length\">\r\n          <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        <div id=\"card-element\" class=\"mb-5\"></div>\r\n\r\n        <template v-if=\"cartTotalLength\">\r\n          <hr />\r\n\r\n          <button class=\"button is-dark\" @click=\"submitForm\">\r\n            Pay with Stripe\r\n          </button>\r\n        </template>\r\n      </div>\r\n      <!-- shipping detail end -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'Checkout',\r\n  data() {\r\n    return {\r\n      cart: {\r\n        items: [],\r\n      },\r\n      stripe: {},\r\n      card: {},\r\n      first_name: '',\r\n      last_name: '',\r\n      email: '',\r\n      phone: '',\r\n      address: '',\r\n      zipcode: '',\r\n      place: '',\r\n      errors: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    document.title = 'Checkout | HerlanderArt';\r\n    this.cart = this.$store.state.cart;\r\n    if (this.cartTotalLength > 0) {\r\n      this.stripe = Stripe(\r\n        'pk_test_51KS16cF7fVRwnUN3pmfAPZMRtRAlWoSff3CpbvmlaJZjr7REZO44jZHdd5uv57xJ6Y6pIKf87sb5phDZleillNmg000FLbjofU'\r\n      );\r\n      const elements = this.stripe.elements();\r\n      this.card = elements.create('card', { hidePostalCode: true });\r\n      this.card.mount('#card-element');\r\n    }\r\n  },\r\n  methods: {\r\n    getItemTotal(item) {\r\n      return item.quantity * item.product.price;\r\n    },\r\n    submitForm() {\r\n      this.errors = [];\r\n      if (this.first_name === '') {\r\n        this.errors.push('The first name field is missing!');\r\n      }\r\n      if (this.last_name === '') {\r\n        this.errors.push('The last name field is missing!');\r\n      }\r\n      if (this.email === '') {\r\n        this.errors.push('The email field is missing!');\r\n      }\r\n      if (this.phone === '') {\r\n        this.errors.push('The phone field is missing!');\r\n      }\r\n      if (this.address === '') {\r\n        this.errors.push('The address field is missing!');\r\n      }\r\n      if (this.zipcode === '') {\r\n        this.errors.push('The zip code field is missing!');\r\n      }\r\n      if (this.place === '') {\r\n        this.errors.push('The place field is missing!');\r\n      }\r\n      if (!this.errors.length) {\r\n        this.$store.commit('setIsLoading', true);\r\n        this.stripe.createToken(this.card).then((result) => {\r\n          if (result.error) {\r\n            this.$store.commit('setIsLoading', false);\r\n            this.errors.push(\r\n              'Something went wrong with Stripe. Please try again'\r\n            );\r\n            console.log(result.error.message);\r\n          } else {\r\n            this.stripeTokenHandler(result.token);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    async stripeTokenHandler(token) {\r\n      const items = [];\r\n      for (let i = 0; i < this.cart.items.length; i++) {\r\n        const item = this.cart.items[i];\r\n        const obj = {\r\n          product: item.product.id,\r\n          quantity: item.quantity,\r\n          price: item.product.price * item.quantity,\r\n        };\r\n        items.push(obj);\r\n      }\r\n      const data = {\r\n        first_name: this.first_name,\r\n        last_name: this.last_name,\r\n        email: this.email,\r\n        address: this.address,\r\n        zipcode: this.zipcode,\r\n        place: this.place,\r\n        phone: this.phone,\r\n        items: items,\r\n        stripe_token: token.id,\r\n      };\r\n      await axios\r\n        .post('/api/v1/checkout/', data)\r\n        .then((response) => {\r\n          this.$store.commit('clearCart');\r\n          this.$router.push('/cart/success');\r\n        })\r\n        .catch((error) => {\r\n          this.errors.push('Something went wrong. Please try again');\r\n          console.log(error);\r\n        });\r\n      this.$store.commit('setIsLoading', false);\r\n    },\r\n  },\r\n  computed: {\r\n    cartTotalPrice() {\r\n      return this.cart.items.reduce((acc, curVal) => {\r\n        return (acc += curVal.product.price * curVal.quantity);\r\n      }, 0);\r\n    },\r\n    cartTotalLength() {\r\n      return this.cart.items.reduce((acc, curVal) => {\r\n        return (acc += curVal.quantity);\r\n      }, 0);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}