{"remainingRequest":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\src\\views\\Search.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\src\\views\\Search.vue","mtime":1644336575821},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\babel.config.js","mtime":1644074725311},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL3NocDM2L0RvY3VtZW50cy9Qcm9ncmFtbWluZy9kamFuZ28tcHJvamVjdHMvZS1jb21tZXJjZS9oZXJsYW5kZXJhcnRfZV9jb21tZXJjZV92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFByb2R1Y3RCb3ggZnJvbSAnQC9jb21wb25lbnRzL1Byb2R1Y3RCb3gnOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gJ2J1bG1hLXRvYXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTZWFyY2gnLAogIGNvbXBvbmVudHM6IHsKICAgIFByb2R1Y3RCb3g6IFByb2R1Y3RCb3gKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9kdWN0czogW10sCiAgICAgIHF1ZXJ5OiAnJwogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyB1cGRhdGUgdGl0bGUKICAgIGRvY3VtZW50LnRpdGxlID0gJ1NlYXJjaCB8IEhlcmxhbmRlckFydCc7IC8vIGdldCBhZGRyZXNzIGJhciBkYXRhCgogICAgdmFyIHVyaSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpOwogICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXModXJpKTsgLy8gcXVlcnkgaGFzIHZhbHVlCgogICAgaWYgKHBhcmFtcy5nZXQoJ3F1ZXJ5JykpIHsKICAgICAgdGhpcy5xdWVyeSA9IHBhcmFtcy5nZXQoJ3F1ZXJ5Jyk7IC8vIGNhbGwgYmFja2VuZCBmb3IgcHJvZHVjdHMgYmFzZWQgb24gcXVlcnkKCiAgICAgIHRoaXMucGVyZm9ybVNlYXJjaCgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcGVyZm9ybVNlYXJjaDogZnVuY3Rpb24gcGVyZm9ybVNlYXJjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZwogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgdHJ1ZSk7IC8vIGFwaSBjYWxsCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJy9hcGkvdjEvcHJvZHVjdHMvc2VhcmNoLycsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6IF90aGlzLnF1ZXJ5CiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBfdGhpcy5wcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;AAkBA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,KAAT,QAAsB,aAAtB;AAEA,eAAe;AACbC,MAAI,EAAE,QADO;AAEbC,YAAU,EAAE;AACVH,cAAU,EAAVA;AADU,GAFC;AAKbI,MALa,kBAKN;AACL,WAAO;AACLC,cAAQ,EAAE,EADL;AAELC,WAAK,EAAE;AAFF,KAAP;AAID,GAVY;AAWbC,SAXa,qBAWH;AACR;AACAC,YAAQ,CAACC,KAAT,GAAiB,uBAAjB,CAFQ,CAIR;;AACA,QAAIC,GAAE,GAAIC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,SAAvB,CAAiC,CAAjC,CAAV;AACA,QAAIC,MAAK,GAAI,IAAIC,eAAJ,CAAoBN,GAApB,CAAb,CANQ,CAQR;;AACA,QAAIK,MAAM,CAACE,GAAP,CAAW,OAAX,CAAJ,EAAyB;AACvB,WAAKX,KAAL,GAAaS,MAAM,CAACE,GAAP,CAAW,OAAX,CAAb,CADuB,CAGvB;;AACA,WAAKC,aAAL;AACF;AACD,GA1BY;AA2BbC,SAAO,EAAE;AACDD,iBADC,2BACe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACpB;AACA,qBAAI,CAACE,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC,EAFoB,CAIpB;;;AAJoB;AAAA,uBAKdtB,KAAI,CACPuB,IADG,CACE,0BADF,EAC8B;AAAEhB,uBAAK,EAAE,KAAI,CAACA;AAAd,iBAD9B,EAEHiB,IAFG,CAEE,UAACC,QAAD,EAAc;AAClB,uBAAI,CAACnB,QAAL,GAAgBmB,QAAQ,CAACpB,IAAzB;AACD,iBAJG,EAKHqB,KALG,CAKG,UAACC,KAAD,EAAW;AAChBC,yBAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,iBAPG,CALc;;AAAA;AAcpB,qBAAI,CAACN,MAAL,CAAYC,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAdoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAerB;AAhBM;AA3BI,CAAf","names":["axios","ProductBox","toast","name","components","data","products","query","mounted","document","title","uri","window","location","search","substring","params","URLSearchParams","get","performSearch","methods","$store","commit","post","then","response","catch","error","console","log"],"sources":["C:\\Users\\shp36\\Documents\\Programming\\django-projects\\e-commerce\\herlanderart_e_commerce_vue\\src\\views\\Search.vue"],"sourcesContent":["<template>\r\n  <div class=\"page-search\">\r\n    <div class=\"columns is-multiline\">\r\n      <div class=\"column is-12\">\r\n        <h1 class=\"title\">Search</h1>\r\n        <h2 class=\"is-size-5 has-text-grey\">Search term: \"{{ query }}\"</h2>\r\n      </div>\r\n\r\n      <ProductBox\r\n        v-for=\"product in products\"\r\n        v-bind:key=\"product.id\"\r\n        v-bind:product=\"product\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport ProductBox from '@/components/ProductBox';\r\nimport { toast } from 'bulma-toast';\r\n\r\nexport default {\r\n  name: 'Search',\r\n  components: {\r\n    ProductBox,\r\n  },\r\n  data() {\r\n    return {\r\n      products: [],\r\n      query: '',\r\n    };\r\n  },\r\n  mounted() {\r\n    // update title\r\n    document.title = 'Search | HerlanderArt';\r\n\r\n    // get address bar data\r\n    let uri = window.location.search.substring(1);\r\n    let params = new URLSearchParams(uri);\r\n\r\n    // query has value\r\n    if (params.get('query')) {\r\n      this.query = params.get('query');\r\n\r\n      // call backend for products based on query\r\n      this.performSearch();\r\n    }\r\n  },\r\n  methods: {\r\n    async performSearch() {\r\n      // start loading\r\n      this.$store.commit('setIsLoading', true);\r\n\r\n      // api call\r\n      await axios\r\n        .post('/api/v1/products/search/', { query: this.query })\r\n        .then((response) => {\r\n          this.products = response.data;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n\r\n      this.$store.commit('setIsLoading', false);\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}